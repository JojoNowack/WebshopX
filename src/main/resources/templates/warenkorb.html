<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Warenkorb</title>
    <link href="/images/logomy.jpg" rel="icon" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
          crossorigin="anonymous">

</head>
<body>
<header th:insert="home.html :: header"></header>



<table class="center">
    <tr>
        <th>Bild</th>
        <th>Name</th>
        <th>Preis</th>
    </tr>
    <tr th:each="myproduct : ${customerProducts}">
        <td width="200px" height="200px">
            <img alt="Card image cap" class="card-img-top" th:src="${myproduct.imageUrl}" id="pic">
        </td>
        <td width="400px" height="200px">
            <p th:text = "${myproduct.name}"></p>
        </td>
        <td width="400px" height="200px">
            <p th:text = "${myproduct.price}"></p>
        </td>
    </tr>
    <tr>
        <td width="400px" height="200px"></td>
        <td width="400px" height="200px"></td>
        <td width="400px" height="200px">
            <label>Summe: </label>
            <p id="sum"></p>
        </td>
    </tr>
</table>


</body>


<style>
.center {
    text-align: center;
    margin-left: auto;
    margin-right: auto;
}
</style>

<script th:inline="javascript">

    var products = [[${customerProducts}]];

    var sumPrice = 0.0;


    for(const product of products){
        sumPrice += product.price;
    }

    document.getElementById("sum").innerText = sumPrice;
</script>

</html>